<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
    * {
        margin: 0;
        padding: 0;
        -webkit-touch-callout: none;
        -webkit-tap-highlight-color: transparent;
        outline: none;
    }
    html,body {
        height: 100%;
    }
    body {
        display: flex;
        justify-content: center;
        align-items: center;
    }
    .box {
        width: 200px;
        height: 200px;
        background-color: red;
    }
    </style>
</head>
<body>
    <div class="box">

    </div>
    <script src="https://cdn.bootcss.com/lodash.js/4.17.10/lodash.min.js"></script>
    <script src="http://alloyteam.github.io/AlloyFinger/alloy_finger.js"></script>
    <script>
        const oBox = document.querySelector(".box");
        // new AlloyFinger(oBox,{
        //     swipe:function(e) {
        //         console.log(e.direction)
        //     }
        // })


        // let startX = 0;
        // let startY = 0;
        // oBox.addEventListener("touchstart",function(e) {
        //     startX = e.touches[0].pageX;
        //     startY = e.touches[0].pageY;
        // })
        // oBox.addEventListener("touchmove",function(e) {
        //     let moveX = e.touches[0].pageX-startX;
        //     let moveY = e.touches[0].pageY-startY;
        //     if(moveX<0) {
        //         console.log('左滑');
        //     }else if(moveX>0) {
        //         console.log('右滑');
        //     }else if(moveY<0) {
        //         console.log('上滑');
        //     }else if(moveY>0) {
        //         console.log('下滑');
        //     }
            
        // })
        const startPoint = {
            x:0,
            y:0
        }
        const DIRECT_VAL = 30;
        oBox.addEventListener('touchstart', (start) => {
            startPoint.x = start.touches[0].clientX;
            startPoint.y = start.touches[0].clientY;
        }, false);
  // 偏移量
  const checkMove = (move) => {
    if(move.touches[0].clientX - startPoint.x > DIRECT_VAL) {
      console.log('right');
      return;
    } 

    if(move.touches[0].clientX - startPoint.x < -DIRECT_VAL) {
      console.log('left');
      return;
    }
  }
  oBox.addEventListener('touchmove', _.throttle(checkMove, 1000))

    </script>
</body>
</html>